{"version":3,"sources":["main.js"],"names":["$","$loginPage","$usernInput","$msgInput","$chatPage","$msgList","$userList","socket","io","username","undefined","$currentInput","focus","addUser","val","trim","length","fadeOut","css","width","z-index","show","emit","addMsg","message","alert","click","e","preventDefault","updateUsers","numUsers","text","on","data","remove","joinMsg","user","append","msg","msgLi","leftMsg"],"mappings":"AAAA,YAEAA,GAAE,WAGA,GAAIC,GAAaD,EAAE,oBACfE,EAAcF,EAAE,mBAChBG,EAAYH,EAAE,cACdI,EAAYJ,EAAE,mBACdK,EAAWL,EAAE,aACbM,EAAYN,EAAE,eAEdO,EAASC,KAGTC,EAAWC,OACXC,EAAgBT,EAAYU,QAE5BC,EAAU,WACZJ,EAAWP,EAAYY,MAAMC,OAEzBN,EAASO,OAAS,IACpBf,EAAWgB,UACXjB,EAAE,OAAOkB,KAAMC,MAAS,MAAOC,UAAW,MAC1ChB,EAAUiB,OACVV,EAAgBR,EAAUS,QAC1BL,EAAOe,KAAK,WAAYb,KAKxBc,EAAS,WACX,GAAIC,GAAUrB,EAAUW,MAAMC,MACzBN,GAEMe,EAAQR,OAAS,IAC1BT,EAAOe,KAAK,eAAgBE,GAC5BrB,EAAUW,IAAI,KAHdW,MAAM,kDAQVzB,GAAE,iBAAiB0B,MAAM,SAAUC,GACjCd,IACAc,EAAEC,mBAGJ5B,EAAE,YAAY0B,MAAM,SAAUC,GAC5BJ,IACAI,EAAEC,kBAIJ,IAAIC,GAAc,SAAqBC,GACrC9B,EAAE,gBAAgB+B,KAAKD,GAErB9B,EAAE,eAAe+B,KADH,GAAZD,EACoB,OAEA,SAK1BvB,GAAOyB,GAAG,cAAe,SAAUC,GACjCjC,EAAE,UAAUkC,QACZ,IAAIC,GAAU,WAAaF,EAAKG,KAAO,uBACvC/B,GAASgC,OAAOF,GAChB7B,EAAU+B,OAAO,OAASJ,EAAKG,KAAO,SACtCP,EAAYI,EAAKH,YAGnBvB,EAAOyB,GAAG,eAAgB,SAAUM,GAClC,GAAIC,GAAQ,WAAa9B,EAAW,UAAY6B,EAAM,OACtDjC,GAASgC,OAAOE,KAGlBhC,EAAOyB,GAAG,YAAa,SAAUC,GAC/B,GAAIO,GAAU,WAAaP,EAAKG,KAAO,qBACvC/B,GAASgC,OAAOG,GAChBxC,EAAE,gCAAkCiC,EAAKG,KAAO,MAAMF,SACtDL,EAAYI,EAAKH","file":"main.min.js","sourcesContent":["'use strict';\n\n$(function () {\n\n  // Set constants\n  var $loginPage = $('.container_login'),\n      $usernInput = $('.input_username'),\n      $msgInput = $('.input_msg'),\n      $chatPage = $('.container_chat'),\n      $msgList = $('.list_msg'),\n      $userList = $('.list_users');\n\n  var socket = io();\n\n  // Add user\n  var username = undefined,\n      $currentInput = $usernInput.focus();\n\n  var addUser = function addUser() {\n    username = $usernInput.val().trim();\n\n    if (username.length > 0) {\n      $loginPage.fadeOut();\n      $('nav').css({ 'width': '25%', 'z-index': '0' });\n      $chatPage.show();\n      $currentInput = $msgInput.focus();\n      socket.emit('add user', username);\n    }\n  };\n\n  // Add message\n  var addMsg = function addMsg() {\n    var message = $msgInput.val().trim();\n    if (!username) {\n      alert('Enter username first before sending a message!');\n    } else if (message.length > 0) {\n      socket.emit('chat message', message);\n      $msgInput.val('');\n    }\n  };\n\n  // Input Event handlers\n  $('.btn_username').click(function (e) {\n    addUser();\n    e.preventDefault();\n  });\n\n  $('.btn_msg').click(function (e) {\n    addMsg();\n    e.preventDefault();\n  });\n\n  // define fn to update users-count & users-word\n  var updateUsers = function updateUsers(numUsers) {\n    $('.users-count').text(numUsers);\n    if (numUsers == 1) {\n      $('.users-word').text('user');\n    } else {\n      $('.users-word').text('users');\n    }\n  };\n\n  // Socket event handlers\n  socket.on('user joined', function (data) {\n    $('.empty').remove();\n    var joinMsg = '<li><em>' + data.user + ' has joined</em></li>';\n    $msgList.append(joinMsg);\n    $userList.append('<li>' + data.user + '</li>');\n    updateUsers(data.numUsers);\n  });\n\n  socket.on('chat message', function (msg) {\n    var msgLi = '<li><em>' + username + ':</em> ' + msg + '</li>';\n    $msgList.append(msgLi);\n  });\n\n  socket.on('user left', function (data) {\n    var leftMsg = '<li><em>' + data.user + ' has left</em></li>';\n    $msgList.append(leftMsg);\n    $(\"ul.list_users > li:contains('\" + data.user + \"')\").remove();\n    updateUsers(data.numUsers);\n  });\n});"],"sourceRoot":"/source/"}